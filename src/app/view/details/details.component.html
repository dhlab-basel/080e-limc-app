<div class="container">

    <!-- Images -->
    <div class="carousel-container" *ngIf="monument?.inventory[0].museum.hasPhotoRight && monument?.getPhotos().length > 0">
        <ngb-carousel>
            <ng-template ngFor let-photo [ngForOf]="monument?.getPhotos()" let-i="index">
                <ng-template ngbSlide>
                    <div class="slide cursor-pointer" (click)="openGallery(i)" [ngStyle]="{'background-image': 'url(\'' + photo.url + '\')'}">
                    </div>
                </ng-template>
            </ng-template>
        </ngb-carousel>
    </div>

    <!-- Monument -->
    <div class="main-title">Denkmal #{{ monument?.id }}</div>
    <div class="row">

        <!-- Basic -->
        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6">

            <div class="card mb-3">
                <h4 class="card-header text-ellipsis">Daten</h4>
                <div class="card-img-top">
                    <div class="card-img-top-limc" [ngStyle]="{'background-image': 'url(' + monument?.getPhoto().url + ')'}"></div>
                </div>
                <div class="list-group list-group-flush">
                    <div class="list-group-item">
                        <div class="title">Objekt</div>
                        <div class="line"><strong>ID:</strong> {{ monument?.id }}</div>
                        <div class="line"><strong>Typ:</strong> {{ monument?.object }}</div>
                        <div class="line"><strong>Herkunft:</strong> {{ monument?.origin }}</div>
                        <div class="line"><strong>Kategorie:</strong> {{ monument?.category }}</div>
                        <div class="line"><strong>Material:</strong> {{ monument?.material }}</div>
                        <div class="line">
                            <strong>Fundort:</strong>
                            {{ monument?.discovery }}
                            {{ monument?.discoveryDetail.length > 0 ? " (" + monument?.discoveryDetail.join(", ") + ")" : "" }}
                        </div>
                        <div class="line"><strong>Datierung:</strong> {{ monument?.dating[0]?.period }}</div>
                    </div>
                    <div class="list-group list-group-flush" *ngIf="monument?.description">
                        <div class="list-group-item">
                            <div class="title">Beschreibung</div>
                            <div class="line">{{ monument?.description }}</div>
                        </div>
                    </div>

                    <div class="list-group list-group-flush" *ngIf="monument?.inscription">
                        <div class="list-group-item">
                            <div class="title">Inschriften</div>
                            <div class="line">{{ monument?.inscription }}</div>
                        </div>
                    </div>
                    <div class="list-group list-group-flush" *ngIf="monument?.bibliography">
                        <div class="list-group-item">
                            <div class="title">Bibliographie</div>
                            <div class="line">{{ monument?.bibliography }}</div>
                        </div>
                    </div>
                    <!--
                    <div class="list-group list-group-flush" *ngIf="monument?.dating.length > 0">
                        <div class="list-group-item">
                            <div class="title">Datierung</div>
                            <div class="line" *ngFor="let dating of monument?.dating">
                                {{ dating.period }}
                                {{ dating.comment }}
                                {{ dating.epoch.name }}
                                {{ dating.epoch.period }}
                                {{ dating.epoch.sequence }}
                            </div>
                        </div>
                    </div>-->
                    <div class="list-group list-group-flush" *ngIf="monument?.technique.length > 0">
                        <div class="list-group-item">
                            <div class="title">Technik</div>
                            <div class="line" *ngFor="let technique of monument?.technique">
                                {{ technique }}
                            </div>
                        </div>
                    </div>
                    <div class="list-group list-group-flush" *ngIf="monument?.scenename.length > 0">
                        <div class="list-group-item">
                            <div class="title">Namen</div>
                            <div class="line">
                                {{ monument?.scenename.join(", ") }}
                            </div>
                        </div>
                    </div>
                    <div class="list-group list-group-flush" *ngIf="monument?.keyword.length > 0">
                        <div class="list-group-item">
                            <div class="title">Stichwörter</div>
                            <div class="line">
                                {{ monument?.keyword.join(", ") }}
                            </div>
                        </div>
                    </div>
                    <div class="list-group list-group-flush" *ngIf="monument?.url.length > 0">
                        <div class="list-group-item">
                            <div class="title">Links</div>
                            <div class="line" *ngFor="let url of monument?.url">
                                <a href="{{ url }}" target="_blank">{{ url }}</a>
                            </div>
                        </div>
                    </div>
                    <div class="list-group list-group-flush" *ngIf="monument?.comment">
                        <div class="list-group-item">
                            <div class="title">Kommentar</div>
                            <div class="line">{{ monument?.comment }}</div>
                        </div>
                    </div>
                </div>

            </div>

        </div>

        <!-- Museum -->
        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6" *ngIf="monument?.inventory.length > 0 && monument?.inventory[0].museum">

            <div class="card">
                <h4 class="card-header text-ellipsis">Museum</h4>
                <div class="list-group list-group-flush">
                    <div class="list-group-item">
                        <div class="title">Anschrift</div>
                        <div class="line">{{ monument?.inventory[0].museum.name }}</div>
                        <div class="line">{{ monument?.inventory[0].museum.city }}</div>
                    </div>
                    <div class="list-group-item">
                        <div class="title">Inventar</div>
                        <div class="line">{{ monument?.inventory[0].number }}</div>
                        <!--<div class="line">{{ monument?.inventory[0].specification }}</div>-->
                    </div>
                    <div class="list-group-item">
                        <div class="title">Fotorechte</div>
                        <div class="line">{{ monument?.inventory[0].museum.hasPhotoRight ? "Vorhanden" : "Nicht vorhanden" }}</div>
                        <div class="line" *ngIf="monument?.inventory[0].museum.photoCredit">Credit: {{ monument?.inventory[0].museum.photoCredit }}</div>
                    </div>
                    <div class="list-group-item" *ngIf="monument?.inventory[0].museum.comment">
                        <div class="title">Kommentar</div>
                        <div class="line">{{ monument?.inventory[0].museum.comment }}</div>
                    </div>
                </div>
            </div>

        </div>

    </div>

    <!-- Scene -->
    <div class="main-title">Szene<span *ngIf="monument?.scene.length > 1">n</span></div>
    <div class="row" *ngFor="let scene of monument?.scene">

        <!-- Scene Data -->
        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6">

            <div class="card mb-3">
                <h4 class="card-header text-ellipsis">Daten</h4>
                <div class="list-group list-group-flush">
                    <div class="list-group-item">
                        <div class="title">Objekt</div>
                        <div class="line"><strong>ID:</strong> {{ scene.id }}</div>
                    </div>
                </div>
                <div class="list-group list-group-flush" *ngIf="scene.description">
                    <div class="list-group-item">
                        <div class="title">Beschreibung</div>
                        <div class="line">{{ scene.description }}</div>
                    </div>
                </div>
                <div class="list-group list-group-flush" *ngIf="scene.inscription">
                    <div class="list-group-item">
                        <div class="title">Inschrift</div>
                        <div class="line">{{ scene.inscription }}</div>
                    </div>
                </div>
                <div class="list-group list-group-flush" *ngIf="scene.bibliography">
                    <div class="list-group-item">
                        <div class="title">Bibliographie</div>
                        <div class="line">{{ scene.bibliography }}</div>
                    </div>
                </div>
                <!--
                <div class="list-group list-group-flush" *ngIf="scene.dating.length > 0">
                    <div class="list-group-item">
                        <div class="title">Datierung</div>
                        <div class="line" *ngFor="let dating of scene.dating">
                            {{ dating.period }}
                            {{ dating.comment }}
                            {{ dating.epoch.name }}
                            {{ dating.epoch.period }}
                            {{ dating.epoch.sequence }}
                        </div>
                    </div>
                </div>-->
                <div class="list-group list-group-flush" *ngIf="scene.scenename.length > 0">
                    <div class="list-group-item">
                        <div class="title">Namen</div>
                        <div class="line">
                            {{ scene.scenename.join(", ") }}
                        </div>
                    </div>
                </div>
                <div class="list-group list-group-flush" *ngIf="scene.keyword.length > 0">
                    <div class="list-group-item">
                        <div class="title">Stichwörter</div>
                        <div class="line">
                            {{ scene.keyword.join(", ") }}
                        </div>
                    </div>
                </div>
                <div class="list-group list-group-flush" *ngIf="scene.url.length > 0">
                    <div class="list-group-item">
                        <div class="title">Links</div>
                        <div class="line" *ngFor="let url of scene.url">
                            <a href="{{ url }}" target="_blank">{{ url }}</a>
                        </div>
                    </div>
                </div>
                <div class="list-group list-group-flush" *ngIf="scene.comment">
                    <div class="list-group-item">
                        <div class="title">Kommentar</div>
                        <div class="line">{{ scene.comment }}</div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Catalogs -->
        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6" *ngIf="scene.catalogLimc?.length > 0 || scene.catalogThesCRA?.length > 0">

            <!-- LIMC -->
            <div class="card mb-3" *ngIf="scene.catalogLimc.length > 0">
                <h4 class="card-header text-ellipsis">LIMC</h4>
                <div class="list-group list-group-flush">
                    <div class="list-group-item py-1" *ngFor="let limc of scene.catalogLimc">
                        <div class="line">
                            {{ limc.article }}
                            {{ limc.volume ? "(vol "+limc.volume+")" : "" }}
                            {{ limc.catalogNumber }}
                            {{ limc.asterix ? "(*)" : "( )" }}
                            {{ limc.dot ? "(.)" : "( )" }}
                        </div>
                    </div>
                </div>
            </div>

            <!-- ThesCRA -->
            <div class="card" *ngIf="scene.catalogThesCRA.length > 0">
                <h4 class="card-header text-ellipsis">ThesCRA</h4>
                <div class="list-group list-group-flush">
                    <div class="list-group-item py-1" *ngFor="let thesCRA of scene.catalogThesCRA">
                        <div class="line">
                            {{ thesCRA.catalogThesCraChapter.name }}
                            {{ thesCRA.indexnumber }}
                            {{ thesCRA.catalogThesCraChapter.volumenumber ? "(vol "+thesCRA.catalogThesCraChapter.volumenumber+")" : "" }}
                            {{ thesCRA.catalogThesCraChapter.mainChapter ? "(ch "+thesCRA.catalogThesCraChapter.mainChapter+"" : "" }}
                            {{ thesCRA.asterix ? "(*)" : "( )" }}
                            {{ thesCRA.dot ? "(.)" : "( )" }}
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>

    <app-photo-modal #gallery></app-photo-modal>

</div>